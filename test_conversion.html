<!DOCTYPE html>
<html>
<head>
    <title>Test Mind Map Conversion</title>
</head>
<body>
    <div id="output"></div>
    
    <script>
        // Mock Linear issues data
        const mockIssues = [
            {
                id: "1",
                title: "Issue 1",
                description: "First issue",
                team: { name: "Development", key: "DEV" },
                parent: null,
                state: { name: "In Progress", type: "started" }
            },
            {
                id: "2", 
                title: "Issue 2",
                description: "Second issue",
                team: { name: "Development", key: "DEV" },
                parent: { id: "1" },
                state: { name: "Backlog", type: "unstarted" }
            },
            {
                id: "3",
                title: "Issue 3", 
                description: "Third issue",
                team: { name: "Design", key: "DES" },
                parent: null,
                state: { name: "Done", type: "completed" }
            },
            {
                id: "4",
                title: "Issue 4",
                description: "Fourth issue", 
                team: null,
                parent: null,
                state: { name: "Backlog", type: "unstarted" }
            }
        ];
        
        // Load the mind map utilities
        fetch('/js/components/mindmap/mindmap-utils.js')
            .then(response => response.text())
            .then(code => {
                // Execute the code
                eval(code);
                
                // Test the conversion
                console.log('Testing convertLinearIssuesToMindMap with mock data...');
                const result = convertLinearIssuesToMindMap(mockIssues);
                
                console.log('Conversion result:', result);
                
                // Display the result
                document.getElementById('output').innerHTML = `
                    <h2>Mind Map Structure:</h2>
                    <pre>${JSON.stringify(result, null, 2)}</pre>
                `;
            })
            .catch(error => {
                console.error('Error:', error);
                document.getElementById('output').innerHTML = `<p>Error: ${error.message}</p>`;
            });
    </script>
</body>
</html>
